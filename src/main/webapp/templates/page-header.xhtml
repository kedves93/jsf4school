<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<ui:component>
    <header>
        <nav class="navbar navbar-inverse">
		  <div class="container-fluid">
		  	<span id="jsf-4-school-icon" class="glyphicon glyphicon-education"></span>
		    <div class="navbar-header">
		      <h:link styleClass="navbar-brand" value="JSF 4 School" outcome="home"/>
		    </div>
		    <ul class="nav navbar-nav">
		      <li class="active"><h:link value="Home" outcome="home"/></li>
		      <ui:fragment rendered="#{userManager.signedIn and userManager.currentUser.isAdmin}">
                <li>
                	<h:link value="Create Survey" outcome="new survey"/>
                </li>
              </ui:fragment>
		    </ul>
		    <ul class="nav navbar-nav navbar-right">
		    	<ui:fragment rendered="#{userManager.signedIn}">
			      <li><a href="#" id="user-icon"><span class="glyphicon glyphicon-user"></span>#{userManager.currentUser.username}</a></li>
			      <div id="user-details-widget">
			      	<ul class="user-details-menu">
			      	   <li>
			      	   	  <div class="user-details-widget-separator"/>
			      	   </li>
			      	   <li>
				      	 <h:form id="sign-out-form">
				      		 <h:commandLink action="#{userManager.signOut}"><span class="glyphicon glyphicon-log-out"></span>Sign Out</h:commandLink>
				      	 </h:form>
				       </li>
				    </ul>
			      </div>
			    </ui:fragment>
			    <ui:fragment rendered="#{not userManager.signedIn}">
			      <li>
			      	<h:outputLink value="sign-in.xhtml"><span class="glyphicon glyphicon-log-in"></span>Login</h:outputLink>
			      </li>
			    </ui:fragment>
		    </ul>
		  </div>
		</nav>
    </header>
</ui:component>
</html>